(()=>{"use strict";var e={3497:(e,t,n)=>{function o(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:()=>a});var a=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("The URL value is :"+t),e.next=4,fetch(t);case 4:if(!(n=e.sent).ok){e.next=13;break}return e.next=8,n.json();case 8:return o=e.sent,console.log(o),e.abrupt("return",o);case 13:console.error("Error code from server : ${error}");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();a("http://localhost:3000/api/teddies/").then((function(e){for(var t=document.getElementById("mainMain"),n=0;n<e.length;n++){var o=document.createElement("article");o.classList.add("mainCard"),o.id=e[n]._id,t.appendChild(o);var r=document.getElementById(e[n]._id),a=document.createElement("img");a.classList.add("mainCard__img"),a.src=e[n].imageUrl,a.alt="Un beau nounours!",r.appendChild(a);var i=document.createElement("div");i.classList.add("mainCard__txtdiv"),r.appendChild(i);var s=document.getElementsByClassName("mainCard__txtdiv")[n],l=document.createElement("h2");l.classList.add("mainCard__txtdiv__h2"),l.innerHTML=e[n].name,s.appendChild(l);var c=document.createElement("p");c.classList.add("mainCard__txtdiv__p"),c.innerHTML=e[n].description,s.appendChild(c);var d=document.createElement("button");d.classList.add("btn"),d.classList.add("btn--blue"),d.classList.add("mainCard__btt"),d.innerHTML="Fiche Article",r.appendChild(d)}})).then((function(){var e=document.getElementsByClassName("btn");console.log(e);for(var t=0;t<e.length;t++)e[t].addEventListener("click",s)}));var i=function(){var e=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="http://localhost:3000/api/teddies/"+t,console.log(n),sessionStorage.setItem("GetURLArticle",JSON.stringify(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.parentNode.id,console.log(n),i(n),window.location.href="article.html";case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(3497),t=JSON.parse(sessionStorage.GetURLArticle);sessionStorage.clear,(0,e.Z)(t).then((function(e){document.getElementById("articleImageTeddy").src=e.imageUrl,document.getElementById("articleImageTeddy").alt="Un beau nounours!",document.getElementById("articleNameTeddy").innerHTML=e.name,document.getElementById("articleNameTeddy").titel=e._id,document.getElementById("articleDescriptionTeddy").innerHTML=e.description,document.getElementById("articlePriceTeddy").innerHTML=e.price;for(var t=0;t<e.colors.length;t++){var n=document.createElement("option");n.value=e.colors[t],n.innerHTML=e.colors[t],document.getElementById("articleOptionsTeddy").appendChild(n)}})).then((function(){document.getElementById("articleBttAddBasket").addEventListener("click",o)})).catch((function(e){console.log(e)}));var o=function(){if("no_selection"!=document.getElementById("articleOptionsTeddy").options[document.getElementById("articleOptionsTeddy").selectedIndex].value){var e={name:document.getElementById("articleNameTeddy").innerHTML,id:document.getElementById("articleNameTeddy").titel,color:document.getElementById("articleOptionsTeddy").options[document.getElementById("articleOptionsTeddy").selectedIndex].value};console.log("%c Find below the object that needs to be added to the basket","color: green; font-weight: bold;"),console.log(e),r(e,"listeBasketTest3",!0);var t=a("listeBasketTest3");console.log("%c Ci-dessous les données qui viennent juste d être sauvegardées.","color: green; font-weight: bold;"),console.log(t[1].name)}else console.log("%c Requête non sauvegardé, car aucune sélection n a été faite.","color: red; font-weight: bold;")},r=function(e,t,n){if("undefined"!=typeof Storage)if(console.log("1"),n&&null!=sessionStorage.getItem(t)){console.log("2"),console.log(t);var o=a(t);console.log("%c Find below the list of all teddies that are in the previous shopping list","color: orange; font-weight: bold;"),console.log(o),o.push(e),console.log("%c Find below the list of all teddies that are in the new shopping list","color: orange; font-weight: bold;"),console.log(o),sessionStorage.setItem(t,JSON.stringify(o))}else{console.log("2bis");var r=[];r.push(e),sessionStorage.setItem(t,JSON.stringify(r)),console.log("%c Find below the list of the teddy that was added in the shopping list","color: green; font-weight: bold;"),console.log(r)}else console.log("1bis"),console.log("%c No web storage support","color: red; font-weight: bold;")},a=function(e){return JSON.parse(sessionStorage[e])}})()})();